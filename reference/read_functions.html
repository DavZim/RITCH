<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='For faster file-reads (at the tradeoff of increased memory usages), you can
increase the buffer_size to 1GB (1e9) or more.
If you access the same file multiple times, you can provide the message
counts as outputted from count_messages() to the n_max
argument, this allows skipping one pass over the file per read instruction.
If you need to read in multiple message classes, you can specify multiple
message classes to read_itch, which results in only a single file pass.
If the file is too large to be loaded into the workspace at once, you can
specify different skip and n_max to load only
a specific range of messages.
Alternatively, you can filter certain messages to another file using
filter_itch(), which is substantially faster than parsing a file
and filtering it.
Note that all read functions allow both plain ITCH files as well as gzipped
files.
If a gzipped file is found, it will look for a plain ITCH file with
the same name and use that instead.
If this file is not found, it will be created by unzipping the archive.
Note that the unzipped file is NOT deleted by default (the file will be
created in the current working directory).
It might result in increased disk usage but reduces future read times for
that specific file.
To force RITCH to delete "temporary" files after uncompressing, use
force_cleanup = TRUE (only deletes the files if they were extracted
before, does not remove the archive itself).'><title>Reads certain messages of an ITCH-file into a data.table — read_functions • RITCH</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Reads certain messages of an ITCH-file into a data.table — read_functions"><meta property="og:description" content='For faster file-reads (at the tradeoff of increased memory usages), you can
increase the buffer_size to 1GB (1e9) or more.
If you access the same file multiple times, you can provide the message
counts as outputted from count_messages() to the n_max
argument, this allows skipping one pass over the file per read instruction.
If you need to read in multiple message classes, you can specify multiple
message classes to read_itch, which results in only a single file pass.
If the file is too large to be loaded into the workspace at once, you can
specify different skip and n_max to load only
a specific range of messages.
Alternatively, you can filter certain messages to another file using
filter_itch(), which is substantially faster than parsing a file
and filtering it.
Note that all read functions allow both plain ITCH files as well as gzipped
files.
If a gzipped file is found, it will look for a plain ITCH file with
the same name and use that instead.
If this file is not found, it will be created by unzipping the archive.
Note that the unzipped file is NOT deleted by default (the file will be
created in the current working directory).
It might result in increased disk usage but reduces future read times for
that specific file.
To force RITCH to delete "temporary" files after uncompressing, use
force_cleanup = TRUE (only deletes the files if they were extracted
before, does not remove the archive itself).'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">RITCH</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.16</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/DavZim/RITCH/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Reads certain messages of an ITCH-file into a data.table</h1>
      <small class="dont-index">Source: <a href="https://github.com/DavZim/RITCH/blob/HEAD/R/read_functions.R" class="external-link"><code>R/read_functions.R</code></a></small>
      <div class="d-none name"><code>read_functions.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>For faster file-reads (at the tradeoff of increased memory usages), you can
increase the <code>buffer_size</code> to 1GB (1e9) or more.</p>
<p>If you access the same file multiple times, you can provide the message
counts as outputted from <code><a href="count_functions.html">count_messages()</a></code> to the <code>n_max</code>
argument, this allows skipping one pass over the file per read instruction.</p>
<p>If you need to read in multiple message classes, you can specify multiple
message classes to <code>read_itch</code>, which results in only a single file pass.</p>
<p>If the file is too large to be loaded into the workspace at once, you can
specify different <code>skip</code> and <code>n_max</code> to load only
a specific range of messages.
Alternatively, you can filter certain messages to another file using
<code><a href="filter_itch.html">filter_itch()</a></code>, which is substantially faster than parsing a file
and filtering it.</p>
<p>Note that all read functions allow both plain ITCH files as well as gzipped
files.
If a gzipped file is found, it will look for a plain ITCH file with
the same name and use that instead.
If this file is not found, it will be created by unzipping the archive.
Note that the unzipped file is NOT deleted by default (the file will be
created in the current working directory).
It might result in increased disk usage but reduces future read times for
that specific file.
To force RITCH to delete "temporary" files after uncompressing, use
<code>force_cleanup = TRUE</code> (only deletes the files if they were extracted
before, does not remove the archive itself).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">read_itch</span><span class="op">(</span></span>
<span>  <span class="va">file</span>,</span>
<span>  filter_msg_class <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  skip <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  n_max <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,</span>
<span>  filter_msg_type <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  filter_stock_locate <span class="op">=</span> <span class="cn">NA_integer_</span>,</span>
<span>  min_timestamp <span class="op">=</span> <span class="fu">bit64</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/bit64/man/as.integer64.character.html" class="external-link">as.integer64</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span>,</span>
<span>  max_timestamp <span class="op">=</span> <span class="fu">bit64</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/bit64/man/as.integer64.character.html" class="external-link">as.integer64</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span>,</span>
<span>  filter_stock <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>  stock_directory <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  buffer_size <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_meta <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  force_gunzip <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  force_cleanup <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_system_events</span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span>, add_descriptions <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_stock_directory</span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span>, add_descriptions <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_trading_status</span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span>, add_descriptions <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_reg_sho</span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span>, add_descriptions <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_market_participant_states</span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span>, add_descriptions <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_mwcb</span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_ipo</span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span>, add_descriptions <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_luld</span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_orders</span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_modifications</span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_trades</span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_noii</span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span>, add_descriptions <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">read_rpii</span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span>, add_descriptions <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">get_orders</span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">get_trades</span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">get_modifications</span><span class="op">(</span><span class="va">file</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>file</dt>
<dd><p>the path to the input file, either a gz-archive or a plain ITCH file</p></dd>


<dt>filter_msg_class</dt>
<dd><p>a vector of classes to load, can be "orders", "trades",
"modifications", ... see also <code><a href="get_msg_classes.html">get_msg_classes()</a></code>.
Default value is to take all message classes.</p></dd>


<dt>skip</dt>
<dd><p>Number of messages to skip before starting parsing messages,
note the skip parameter applies to the specific message class, i.e., it would
skip the messages for each type (e.g., skip the first 10 messages for each class).</p></dd>


<dt>n_max</dt>
<dd><p>Maximum number of messages to parse, default is to read all values.
Can also be a data.frame of msg_types and counts, as returned by
<code><a href="count_functions.html">count_messages()</a></code>.
Note the n_max parameter applies to the specific message class not the whole
file.</p></dd>


<dt>filter_msg_type</dt>
<dd><p>a character vector, specifying a filter for message types.
Note that this can be used to only return 'A' orders for instance.</p></dd>


<dt>filter_stock_locate</dt>
<dd><p>an integer vector, specifying a filter for locate codes.
The locate codes can be looked up by calling <code>read_stock_directory()</code>
or by downloading from NASDAQ by using <code><a href="download_stock_directory.html">download_stock_directory()</a></code>.
Note that some message types (e.g., system events, MWCB, and IPO) do not use
a locate code.</p></dd>


<dt>min_timestamp</dt>
<dd><p>an 64 bit integer vector (see also <code><a href="https://rdrr.io/pkg/bit64/man/as.integer64.character.html" class="external-link">bit64::as.integer64()</a></code>)
of minimum timestamp (inclusive).
Note: min and max timestamp must be supplied with the same length or left empty.</p></dd>


<dt>max_timestamp</dt>
<dd><p>an 64 bit integer vector (see also <code><a href="https://rdrr.io/pkg/bit64/man/as.integer64.character.html" class="external-link">bit64::as.integer64()</a></code>)
of maxium timestamp (inclusive).
Note: min and max timestamp must be supplied with the same length or left empty.</p></dd>


<dt>filter_stock</dt>
<dd><p>a character vector, specifying a filter for stocks.
Note that this a shorthand for the <code>filter_stock_locate</code> argument, as it
tries to find the stock_locate based on the <code>stock_directory</code> argument,
if this is not found, it will try to extract the stock directory from the file,
else an error is thrown.</p></dd>


<dt>stock_directory</dt>
<dd><p>A data.frame containing the stock-locate code relationship.
As outputted by <code>read_stock_directory()</code>.
Only used if <code>filter_stock</code> is set. To download the stock directory from
NASDAQs server, use <code><a href="download_stock_directory.html">download_stock_directory()</a></code>.</p></dd>


<dt>buffer_size</dt>
<dd><p>the size of the buffer in bytes, defaults to 1e8 (100 MB),
if you have a large amount of RAM, 1e9 (1GB) might be faster</p></dd>


<dt>quiet</dt>
<dd><p>if TRUE, the status messages are suppressed, defaults to FALSE</p></dd>


<dt>add_meta</dt>
<dd><p>if TRUE, the date and exchange information of the file are added, defaults to TRUE</p></dd>


<dt>force_gunzip</dt>
<dd><p>only applies if the input file is a gz-archive and a file with the same (gunzipped) name already exists.
if set to TRUE, the existing file is overwritten. Default value is FALSE</p></dd>


<dt>force_cleanup</dt>
<dd><p>only applies if the input file is a gz-archive If force_cleanup=TRUE, the gunzipped raw file will be deleted afterwards.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments passed to <code>read_itch</code></p></dd>


<dt>add_descriptions</dt>
<dd><p>add longer descriptions to shortened variables.
The added information is taken from the official ITCH documentation
see also <code><a href="open_itch_specification.html">open_itch_specification()</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>a data.table containing the messages</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The details of the different messages types can be found in the official
ITCH specification (see also <code><a href="open_itch_specification.html">open_itch_specification()</a></code>)</p>
<ul><li><p><code>read_itch</code>: Reads a message class message, can also read multiple
classes in one file-pass.</p></li>
</ul><ul><li><p><code>read_system_events</code>: Reads system event messages. Message type <code>S</code></p></li>
</ul><ul><li><p><code>read_stock_directory</code>: Reads stock trading messages. Message type <code>R</code></p></li>
</ul><ul><li><p><code>read_trading_status</code>: Reads trading status messages. Message type <code>H</code>
and <code>h</code></p></li>
</ul><ul><li><p><code>read_reg_sho</code>: Reads messages regarding reg SHO. Message type <code>Y</code></p></li>
</ul><ul><li><p><code>read_market_participant_states</code>: Reads messages regarding the
status of market participants. Message type <code>L</code></p></li>
</ul><ul><li><p><code>read_mwcb</code>: Reads messages regarding Market-Wide-Circuit-Breakers
(MWCB). Message type <code>V</code> and <code>W</code></p></li>
</ul><ul><li><p><code>read_ipo</code>: Reads messages regarding IPOs. Message type <code>K</code></p></li>
</ul><ul><li><p><code>read_luld</code>: Reads messages regarding LULDs (limit up-limit down)
auction collars. Message type <code>J</code></p></li>
</ul><ul><li><p><code>read_orders</code>: Reads order messages. Message type <code>A</code> and <code>F</code></p></li>
</ul><ul><li><p><code>read_modifications</code>: Reads order modification messages. Message
type <code>E</code>, <code>C</code>, <code>X</code>, <code>D</code>, and <code>U</code></p></li>
</ul><ul><li><p><code>read_trades</code>: Reads trade messages. Message type <code>P</code>, <code>Q</code> and <code>B</code></p></li>
</ul><ul><li><p><code>read_noii</code>: Reads Net Order Imbalance Indicatio (NOII) messages.
Message type <code>I</code></p></li>
</ul><ul><li><p><code>read_rpii</code>: Reads Retail Price Improvement Indicator (RPII)
messages. Message type <code>N</code></p></li>
</ul><p>For backwards compatability reasons, the following functions are provided as
well:</p><ul><li><p><code>get_orders</code>: Redirects to <code>read_orders</code></p></li>
</ul><ul><li><p><code>get_trades</code>: Redirects to <code>read_trades</code></p></li>
</ul><ul><li><p><code>get_modifications</code>: Redirects to <code>read_modifications</code></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p><a href="https://www.nasdaqtrader.com/content/technicalsupport/specifications/dataproducts/NQTVITCHspecification.pdf" class="external-link">https://www.nasdaqtrader.com/content/technicalsupport/specifications/dataproducts/NQTVITCHspecification.pdf</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"ex20101224.TEST_ITCH_50"</span>, package <span class="op">=</span> <span class="st">"RITCH"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">od</span> <span class="op">&lt;-</span> <span class="fu">read_orders</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'orders' messages 5,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.20 secs at 2.37MB/s</span>
<span class="r-in"><span><span class="va">tr</span> <span class="op">&lt;-</span> <span class="fu">read_trades</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'trades' messages 5,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.42MB/s</span>
<span class="r-in"><span><span class="va">md</span> <span class="op">&lt;-</span> <span class="fu">read_modifications</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'modifications' messages 2,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.18 secs at 2.55MB/s</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Alternatively</span></span></span>
<span class="r-in"><span><span class="va">od</span> <span class="op">&lt;-</span> <span class="fu">read_itch</span><span class="op">(</span><span class="va">file</span>, <span class="st">"orders"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'orders' messages 5,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.46MB/s</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ll</span> <span class="op">&lt;-</span> <span class="fu">read_itch</span><span class="op">(</span><span class="va">file</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"orders"</span>, <span class="st">"trades"</span>, <span class="st">"modifications"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'orders' messages 5,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'modifications' messages 2,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'trades' messages 5,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.21 secs at 2.20MB/s</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">od</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Classes ‘data.table’ and 'data.frame':	5000 obs. of  13 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ msg_type       : chr  "A" "A" "F" "A" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ stock_locate   : int  2 2 2 2 2 2 2 2 2 2 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ tracking_number: int  0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ timestamp      :integer64 31139052372053 31141354532167 32813425752711 32826656500150 32827351405783 32893988026867 33067242028997 33300886636321 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ order_ref      :integer64 0 100 84836 87020 87040 93032 105532 121012 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ buy            : logi  TRUE TRUE TRUE FALSE FALSE FALSE ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ shares         : int  1000 1000 100 1220 2000 600 2000 200 100 3000 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ stock          : chr  "BOB" "BOB" "BOB" "BOB" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ price          : num  5.32 5.32 5.29 5.42 5.42 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ mpid           : chr  "" "" "VIRT" "" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ date           : POSIXct, format: "2010-12-24" "2010-12-24" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ datetime       :integer64 2010-12-24T08:38:59.052372053+00:00 2010-12-24T08:39:01.354532167+00:00 2010-12-24T09:06:53.425752711+00:00 2010-12-24T09:07:06.656500150+00:00 2010-12-24T09:07:07.351405783+00:00 2010-12-24T09:08:13.988026867+00:00 2010-12-24T09:11:07.242028997+00:00 2010-12-24T09:15:00.886636321+00:00 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ exchange       : chr  "TEST" "TEST" "TEST" "TEST" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, ".internal.selfref")=&lt;externalptr&gt; </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">tr</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Classes ‘data.table’ and 'data.frame':	5000 obs. of  14 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ msg_type       : chr  "P" "P" "P" "P" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ stock_locate   : int  2 2 2 2 2 3 3 3 3 3 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ tracking_number: int  2 2 2 2 2 2 4 2 2 2 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ timestamp      :integer64 34210128591201 34210355475120 34210767188977 34211127433476 34212046014088 34235711475708 34239928637481 34239928703094 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ order_ref      :integer64 0 0 0 0 0 0 0 0 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ buy            : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ shares         : int  200 300 100 47 200 100 100 100 1 40 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ stock          : chr  "BOB" "BOB" "BOB" "BOB" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ price          : num  5.33 5.33 5.33 5.33 5.33 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ match_number   :integer64 19447 19451 19493 19515 19547 20148 20242 20241 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ cross_type     : chr  NA NA NA NA ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ date           : POSIXct, format: "2010-12-24" "2010-12-24" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ datetime       :integer64 2010-12-24T09:30:10.128591201+00:00 2010-12-24T09:30:10.355475120+00:00 2010-12-24T09:30:10.767188977+00:00 2010-12-24T09:30:11.127433476+00:00 2010-12-24T09:30:12.046014088+00:00 2010-12-24T09:30:35.711475708+00:00 2010-12-24T09:30:39.928637481+00:00 2010-12-24T09:30:39.928703094+00:00 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ exchange       : chr  "TEST" "TEST" "TEST" "TEST" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, ".internal.selfref")=&lt;externalptr&gt; </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">md</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Classes ‘data.table’ and 'data.frame':	2000 obs. of  13 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ msg_type       : chr  "E" "E" "E" "E" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ stock_locate   : int  2 2 2 2 2 2 2 3 2 3 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ tracking_number: int  2 6 6 2 2 2 0 0 2 4 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ timestamp      :integer64 32857937604189 33415045933113 33451454329367 33451456680919 33452976359207 33543994528073 34209047203227 34241409914577 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ order_ref      :integer64 87020 121012 130800 130800 130800 134972 84836 1040034 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ shares         : int  1220 200 2738 100 62 25 NA NA 100 200 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ match_number   :integer64 18049 18225 18234 18235 18237 18257 NA NA ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ printable      : logi  NA NA NA NA NA NA ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ price          : num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ new_order_ref  :integer64 NA NA NA NA NA NA NA NA ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ date           : POSIXct, format: "2010-12-24" "2010-12-24" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ datetime       :integer64 2010-12-24T09:07:37.937604189+00:00 2010-12-24T09:16:55.045933113+00:00 2010-12-24T09:17:31.454329367+00:00 2010-12-24T09:17:31.456680919+00:00 2010-12-24T09:17:32.976359207+00:00 2010-12-24T09:19:03.994528073+00:00 2010-12-24T09:30:09.047203227+00:00 2010-12-24T09:30:41.409914577+00:00 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ exchange       : chr  "TEST" "TEST" "TEST" "TEST" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  - attr(*, ".internal.selfref")=&lt;externalptr&gt; </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">ll</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ orders       :Classes ‘data.table’ and 'data.frame':	5000 obs. of  13 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ msg_type       : chr [1:5000] "A" "A" "F" "A" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ stock_locate   : int [1:5000] 2 2 2 2 2 2 2 2 2 2 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ tracking_number: int [1:5000] 0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ timestamp      :integer64 [1:5000] 31139052372053 31141354532167 32813425752711 32826656500150 32827351405783 32893988026867 33067242028997 33300886636321 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ order_ref      :integer64 [1:5000] 0 100 84836 87020 87040 93032 105532 121012 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ buy            : logi [1:5000] TRUE TRUE TRUE FALSE FALSE FALSE ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ shares         : int [1:5000] 1000 1000 100 1220 2000 600 2000 200 100 3000 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ stock          : chr [1:5000] "BOB" "BOB" "BOB" "BOB" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ price          : num [1:5000] 5.32 5.32 5.29 5.42 5.42 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ mpid           : chr [1:5000] "" "" "VIRT" "" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ date           : POSIXct[1:5000], format: "2010-12-24" "2010-12-24" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ datetime       :integer64 [1:5000] 2010-12-24T08:38:59.052372053+00:00 2010-12-24T08:39:01.354532167+00:00 2010-12-24T09:06:53.425752711+00:00 2010-12-24T09:07:06.656500150+00:00 2010-12-24T09:07:07.351405783+00:00 2010-12-24T09:08:13.988026867+00:00 2010-12-24T09:11:07.242028997+00:00 2010-12-24T09:15:00.886636321+00:00 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ exchange       : chr [1:5000] "TEST" "TEST" "TEST" "TEST" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, ".internal.selfref")=&lt;externalptr&gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ trades       :Classes ‘data.table’ and 'data.frame':	5000 obs. of  14 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ msg_type       : chr [1:5000] "P" "P" "P" "P" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ stock_locate   : int [1:5000] 2 2 2 2 2 3 3 3 3 3 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ tracking_number: int [1:5000] 2 2 2 2 2 2 4 2 2 2 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ timestamp      :integer64 [1:5000] 34210128591201 34210355475120 34210767188977 34211127433476 34212046014088 34235711475708 34239928637481 34239928703094 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ order_ref      :integer64 [1:5000] 0 0 0 0 0 0 0 0 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ buy            : logi [1:5000] TRUE TRUE TRUE TRUE TRUE TRUE ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ shares         : int [1:5000] 200 300 100 47 200 100 100 100 1 40 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ stock          : chr [1:5000] "BOB" "BOB" "BOB" "BOB" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ price          : num [1:5000] 5.33 5.33 5.33 5.33 5.33 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ match_number   :integer64 [1:5000] 19447 19451 19493 19515 19547 20148 20242 20241 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ cross_type     : chr [1:5000] NA NA NA NA ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ date           : POSIXct[1:5000], format: "2010-12-24" "2010-12-24" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ datetime       :integer64 [1:5000] 2010-12-24T09:30:10.128591201+00:00 2010-12-24T09:30:10.355475120+00:00 2010-12-24T09:30:10.767188977+00:00 2010-12-24T09:30:11.127433476+00:00 2010-12-24T09:30:12.046014088+00:00 2010-12-24T09:30:35.711475708+00:00 2010-12-24T09:30:39.928637481+00:00 2010-12-24T09:30:39.928703094+00:00 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ exchange       : chr [1:5000] "TEST" "TEST" "TEST" "TEST" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, ".internal.selfref")=&lt;externalptr&gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ modifications:Classes ‘data.table’ and 'data.frame':	2000 obs. of  13 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ msg_type       : chr [1:2000] "E" "E" "E" "E" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ stock_locate   : int [1:2000] 2 2 2 2 2 2 2 3 2 3 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ tracking_number: int [1:2000] 2 6 6 2 2 2 0 0 2 4 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ timestamp      :integer64 [1:2000] 32857937604189 33415045933113 33451454329367 33451456680919 33452976359207 33543994528073 34209047203227 34241409914577 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ order_ref      :integer64 [1:2000] 87020 121012 130800 130800 130800 134972 84836 1040034 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ shares         : int [1:2000] 1220 200 2738 100 62 25 NA NA 100 200 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ match_number   :integer64 [1:2000] 18049 18225 18234 18235 18237 18257 NA NA ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ printable      : logi [1:2000] NA NA NA NA NA NA ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ price          : num [1:2000] NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ new_order_ref  :integer64 [1:2000] NA NA NA NA NA NA NA NA ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ date           : POSIXct[1:2000], format: "2010-12-24" "2010-12-24" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ datetime       :integer64 [1:2000] 2010-12-24T09:07:37.937604189+00:00 2010-12-24T09:16:55.045933113+00:00 2010-12-24T09:17:31.454329367+00:00 2010-12-24T09:17:31.456680919+00:00 2010-12-24T09:17:32.976359207+00:00 2010-12-24T09:19:03.994528073+00:00 2010-12-24T09:30:09.047203227+00:00 2010-12-24T09:30:41.409914577+00:00 ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ exchange       : chr [1:2000] "TEST" "TEST" "TEST" "TEST" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, ".internal.selfref")=&lt;externalptr&gt; </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># additional options:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># turn off feedback</span></span></span>
<span class="r-in"><span><span class="va">od</span> <span class="op">&lt;-</span> <span class="fu">read_orders</span><span class="op">(</span><span class="va">file</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># take only subset of messages</span></span></span>
<span class="r-in"><span><span class="va">od</span> <span class="op">&lt;-</span> <span class="fu">read_orders</span><span class="op">(</span><span class="va">file</span>, skip <span class="op">=</span> <span class="fl">3</span>, n_max <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Note]       n_max overrides counting the messages. Number of messages may be off</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Filter]     skip: 3 n_max: 10 (4 - 13)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'orders' messages 20</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.45MB/s</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># a message count can be provided for slightly faster reads</span></span></span>
<span class="r-in"><span><span class="va">msg_count</span> <span class="op">&lt;-</span> <span class="fu"><a href="count_functions.html">count_messages</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   12,012 total messages found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.00 secs at 1.10GB/s</span>
<span class="r-in"><span><span class="va">od</span> <span class="op">&lt;-</span> <span class="fu">read_orders</span><span class="op">(</span><span class="va">file</span>, n_max <span class="op">=</span> <span class="va">msg_count</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Filter]     skip: 0 n_max: 5000 (1 - 5000)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'orders' messages 10,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.49MB/s</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># .gz archives will be automatically unzipped</span></span></span>
<span class="r-in"><span><span class="va">gz_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"ex20101224.TEST_ITCH_50.gz"</span>, package <span class="op">=</span> <span class="st">"RITCH"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">od</span> <span class="op">&lt;-</span> <span class="fu">read_orders</span><span class="op">(</span><span class="va">gz_file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [INFO] Unzipped file '/home/runner/work/_temp/Library/RITCH/extdata/ex20101224.TEST_ITCH_50' already found, using that (overwrite with force_gunzip=TRUE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'orders' messages 5,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.18 secs at 886.84KB/s</span>
<span class="r-in"><span><span class="co"># force a decompress and delete the decompressed file afterwards</span></span></span>
<span class="r-in"><span><span class="va">od</span> <span class="op">&lt;-</span> <span class="fu">read_orders</span><span class="op">(</span><span class="va">gz_file</span>, force_gunzip <span class="op">=</span> <span class="cn">TRUE</span>, force_cleanup <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Decompressing] '/home/runner/work/_temp/Library/RITCH/extdata/ex20101224.TEST_ITCH_50.gz' to 'ex20101224.TEST_ITCH_50'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'orders' messages 5,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 833.12KB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Cleanup]    Removing file 'ex20101224.TEST_ITCH_50'</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## read_itch()</span></span></span>
<span class="r-in"><span><span class="fu">read_itch</span><span class="op">(</span><span class="va">file</span>, <span class="st">"orders"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'orders' messages 5,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.42MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       msg_type stock_locate tracking_number      timestamp order_ref   buy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:        A            2               0 31139052372053         0  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:        A            2               0 31141354532167       100  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:        F            2               0 32813425752711     84836  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:        A            2               0 32826656500150     87020 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:        A            2               0 32827351405783     87040 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4996:        A            1               0 57586688692484  88478593 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4997:        A            2               0 57586792358162  82185144 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4998:        A            1               0 57590573033724  88557297  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4999:        A            2               0 57595196456803  82354728  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5000:        A            2               0 57595326231183  82357176 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       shares stock   price mpid       date                            datetime</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:   1000   BOB  5.3167      2010-12-24 2010-12-24T08:38:59.052372053+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:   1000   BOB  5.3167      2010-12-24 2010-12-24T08:39:01.354532167+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:    100   BOB  5.2917 VIRT 2010-12-24 2010-12-24T09:06:53.425752711+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:   1220   BOB  5.4167      2010-12-24 2010-12-24T09:07:06.656500150+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:   2000   BOB  5.4167      2010-12-24 2010-12-24T09:07:07.351405783+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                                         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4996:    100   ALC 23.1000      2010-12-24 2010-12-24T15:59:46.688692484+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4997:    900   BOB  6.0833      2010-12-24 2010-12-24T15:59:46.792358162+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4998:    100   ALC 23.0200      2010-12-24 2010-12-24T15:59:50.573033724+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4999:   1200   BOB  6.0583      2010-12-24 2010-12-24T15:59:55.196456803+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5000:   2000   BOB  6.0750      2010-12-24 2010-12-24T15:59:55.326231183+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       exchange</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4996:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4997:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4998:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4999:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5000:     TEST</span>
<span class="r-in"><span><span class="fu">read_itch</span><span class="op">(</span><span class="va">file</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"orders"</span>, <span class="st">"trades"</span>, <span class="st">"modifications"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'orders' messages 5,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'modifications' messages 2,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'trades' messages 5,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.45MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $orders</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       msg_type stock_locate tracking_number      timestamp order_ref   buy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:        A            2               0 31139052372053         0  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:        A            2               0 31141354532167       100  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:        F            2               0 32813425752711     84836  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:        A            2               0 32826656500150     87020 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:        A            2               0 32827351405783     87040 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4996:        A            1               0 57586688692484  88478593 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4997:        A            2               0 57586792358162  82185144 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4998:        A            1               0 57590573033724  88557297  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4999:        A            2               0 57595196456803  82354728  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5000:        A            2               0 57595326231183  82357176 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       shares stock   price mpid       date                            datetime</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:   1000   BOB  5.3167      2010-12-24 2010-12-24T08:38:59.052372053+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:   1000   BOB  5.3167      2010-12-24 2010-12-24T08:39:01.354532167+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:    100   BOB  5.2917 VIRT 2010-12-24 2010-12-24T09:06:53.425752711+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:   1220   BOB  5.4167      2010-12-24 2010-12-24T09:07:06.656500150+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:   2000   BOB  5.4167      2010-12-24 2010-12-24T09:07:07.351405783+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                                         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4996:    100   ALC 23.1000      2010-12-24 2010-12-24T15:59:46.688692484+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4997:    900   BOB  6.0833      2010-12-24 2010-12-24T15:59:46.792358162+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4998:    100   ALC 23.0200      2010-12-24 2010-12-24T15:59:50.573033724+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4999:   1200   BOB  6.0583      2010-12-24 2010-12-24T15:59:55.196456803+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5000:   2000   BOB  6.0750      2010-12-24 2010-12-24T15:59:55.326231183+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       exchange</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4996:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4997:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4998:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4999:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5000:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $trades</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       msg_type stock_locate tracking_number      timestamp order_ref  buy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:        P            2               2 34210128591201         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:        P            2               2 34210355475120         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:        P            2               2 34210767188977         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:        P            2               2 34211127433476         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:        P            2               2 34212046014088         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4996:        P            1               2 57594215201805         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4997:        P            1               6 57595050849140         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4998:        P            1               4 57595051019659         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4999:        P            1               2 57595052006081         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5000:        P            3               2 57597526823001         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       shares stock   price match_number cross_type       date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:    200   BOB  5.3333        19447       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:    300   BOB  5.3333        19451       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:    100   BOB  5.3250        19493       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:     47   BOB  5.3333        19515       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:    200   BOB  5.3333        19547       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4996:      1   ALC 23.0800       728935       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4997:     28   ALC 23.0200       730245       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4998:     50   ALC 23.0200       730244       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4999:     65   ALC 23.1000       730243       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5000:    100  CHAR 22.0250       731883       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                  datetime exchange</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1: 2010-12-24T09:30:10.128591201+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2: 2010-12-24T09:30:10.355475120+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3: 2010-12-24T09:30:10.767188977+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4: 2010-12-24T09:30:11.127433476+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5: 2010-12-24T09:30:12.046014088+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4996: 2010-12-24T15:59:54.215201805+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4997: 2010-12-24T15:59:55.050849140+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4998: 2010-12-24T15:59:55.051019659+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4999: 2010-12-24T15:59:55.052006081+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5000: 2010-12-24T15:59:57.526823001+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $modifications</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       msg_type stock_locate tracking_number      timestamp order_ref shares</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:        E            2               2 32857937604189     87020   1220</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:        E            2               6 33415045933113    121012    200</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:        E            2               6 33451454329367    130800   2738</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:        E            2               2 33451456680919    130800    100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:        E            2               2 33452976359207    130800     62</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1996:        D            1               0 57583565860801  88418673     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1997:        U            1               0 57586687948197  88478593    100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1998:        U            1               0 57590574066018  88557297    100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1999:        D            2               0 57595204788097  82354728     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000:        D            2               0 57597497623835  58412056     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       match_number printable   price new_order_ref       date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:        18049        NA      NA          &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:        18225        NA      NA          &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:        18234        NA      NA          &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:        18235        NA      NA          &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:        18237        NA      NA          &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1996:         &lt;NA&gt;        NA      NA          &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1997:         &lt;NA&gt;        NA 23.0933      88575536 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1998:         &lt;NA&gt;        NA 23.0267      88654608 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1999:         &lt;NA&gt;        NA      NA          &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000:         &lt;NA&gt;        NA      NA          &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                  datetime exchange</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1: 2010-12-24T09:07:37.937604189+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2: 2010-12-24T09:16:55.045933113+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3: 2010-12-24T09:17:31.454329367+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4: 2010-12-24T09:17:31.456680919+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5: 2010-12-24T09:17:32.976359207+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1996: 2010-12-24T15:59:43.565860801+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1997: 2010-12-24T15:59:46.687948197+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1998: 2010-12-24T15:59:50.574066018+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1999: 2010-12-24T15:59:55.204788097+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000: 2010-12-24T15:59:57.497623835+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## read_system_events()</span></span></span>
<span class="r-in"><span><span class="fu">read_system_events</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'system_events' messages 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.18 secs at 2.52MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    msg_type stock_locate tracking_number      timestamp event_code       date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:        S            0               0 11202475298710          O 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:        S            0               0 25209371478776          S 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:        S            0               0 34199261999747          Q 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:        S            0               0 57607158187591          M 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:        S            0               0 68390401688921          E 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:        S            0               0 68698845099321          C 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                               datetime exchange</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 2010-12-24T03:06:42.475298710+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: 2010-12-24T07:00:09.371478776+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: 2010-12-24T09:29:59.261999747+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4: 2010-12-24T16:00:07.158187591+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5: 2010-12-24T18:59:50.401688921+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6: 2010-12-24T19:04:58.845099321+00:00     TEST</span>
<span class="r-in"><span><span class="fu">read_system_events</span><span class="op">(</span><span class="va">file</span>, add_descriptions <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'system_events' messages 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.50MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    msg_type stock_locate tracking_number      timestamp event_code       date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:        S            0               0 68698845099321          C 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:        S            0               0 68390401688921          E 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:        S            0               0 57607158187591          M 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:        S            0               0 11202475298710          O 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:        S            0               0 34199261999747          Q 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:        S            0               0 25209371478776          S 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                               datetime exchange            event_name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 2010-12-24T19:04:58.845099321+00:00     TEST       End of Messages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: 2010-12-24T18:59:50.401688921+00:00     TEST   End of System Hours</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: 2010-12-24T16:00:07.158187591+00:00     TEST   End of Market Hours</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4: 2010-12-24T03:06:42.475298710+00:00     TEST     Start of Messages</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5: 2010-12-24T09:29:59.261999747+00:00     TEST Start of Market Hours</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6: 2010-12-24T07:00:09.371478776+00:00     TEST Start of System Hours</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                                                                                                                                               event_note</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:                                                                                                                              This is always the last message sent in any trading day.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: It indicates that Nasdaq is now closed and will not accept any new orders today. It is still possible to receive Broken Trade messages and Order Delete messages after the End of Day</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:                                                                                   This message is intended to indicate that Market Hours orders are no longer available for execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4:                                                                                 Outside of time stamp messages, the start of day message is the first message sent in any trading day</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5:                                                                                             This message is intended to indicate that Market Hours orders are available for execution</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6:                                                                                                        This message indicates that NASDAQ is open and ready to start accepting orders</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## read_stock_directory()</span></span></span>
<span class="r-in"><span><span class="fu">read_stock_directory</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'stock_directory' messages 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.18 secs at 2.52MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    msg_type stock_locate tracking_number      timestamp stock market_category</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:        R            1               0 11435930564116   ALC               N</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:        R            2               0 11436025019799   BOB               S</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:        R            3               0 11436069862295  CHAR               P</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    financial_status lot_size round_lots_only issue_classification issue_subtype</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:                N      100           FALSE                    A             Z</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:                N      100           FALSE                    A             Z</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:                N      100           FALSE                    A             Z</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    authentic short_sell_closeout ipo_flag luld_price_tier etp_flag etp_leverage</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:      TRUE               FALSE    FALSE               2    FALSE            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:      TRUE               FALSE    FALSE               2    FALSE            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:      TRUE               FALSE    FALSE               2    FALSE            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    inverse       date                            datetime exchange</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:   FALSE 2010-12-24 2010-12-24T03:10:35.930564116+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:   FALSE 2010-12-24 2010-12-24T03:10:36.025019799+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:   FALSE 2010-12-24 2010-12-24T03:10:36.069862295+00:00     TEST</span>
<span class="r-in"><span><span class="fu">read_stock_directory</span><span class="op">(</span><span class="va">file</span>, add_descriptions <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'stock_directory' messages 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.49MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    msg_type stock_locate tracking_number      timestamp stock market_category</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:        R            1               0 11435930564116   ALC               N</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:        R            3               0 11436069862295  CHAR               P</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:        R            2               0 11436025019799   BOB               S</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    financial_status lot_size round_lots_only issue_classification issue_subtype</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:                N      100           FALSE                    A             Z</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:                N      100           FALSE                    A             Z</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:                N      100           FALSE                    A             Z</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    authentic short_sell_closeout ipo_flag luld_price_tier etp_flag etp_leverage</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:      TRUE               FALSE    FALSE               2    FALSE            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:      TRUE               FALSE    FALSE               2    FALSE            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:      TRUE               FALSE    FALSE               2    FALSE            0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    inverse       date                            datetime exchange</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:   FALSE 2010-12-24 2010-12-24T03:10:35.930564116+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:   FALSE 2010-12-24 2010-12-24T03:10:36.069862295+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:   FALSE 2010-12-24 2010-12-24T03:10:36.025019799+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       market_category_note financial_status_note luld_price_tier_note</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: New York Stock Exchange                Normal    Tier 2 NMS Stocks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:               NYSE Arca                Normal    Tier 2 NMS Stocks</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:   Nasdaq Capital Market                Normal    Tier 2 NMS Stocks</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## read_trading_status()</span></span></span>
<span class="r-in"><span><span class="fu">read_trading_status</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'trading_status' messages 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.18 secs at 2.53MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    msg_type stock_locate tracking_number      timestamp stock trading_state</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:        H            1               0 11436094498153   ALC             T</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:        H            2               0 11436235406277   BOB             T</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:        H            3               0 11436375417237  CHAR             T</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    reserved reason market_code operation_halted       date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:                        &lt;NA&gt;               NA 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:                        &lt;NA&gt;               NA 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:                        &lt;NA&gt;               NA 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                               datetime exchange</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 2010-12-24T03:10:36.094498153+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: 2010-12-24T03:10:36.235406277+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: 2010-12-24T03:10:36.375417237+00:00     TEST</span>
<span class="r-in"><span><span class="fu">read_trading_status</span><span class="op">(</span><span class="va">file</span>, add_descriptions <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'trading_status' messages 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.44MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    msg_type stock_locate tracking_number      timestamp stock trading_state</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:        H            1               0 11436094498153   ALC             T</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:        H            2               0 11436235406277   BOB             T</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:        H            3               0 11436375417237  CHAR             T</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    reserved reason market_code operation_halted       date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:                        &lt;NA&gt;               NA 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:                        &lt;NA&gt;               NA 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:                        &lt;NA&gt;               NA 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                               datetime exchange trading_state_note</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 2010-12-24T03:10:36.094498153+00:00     TEST  Trading on Nasdaq</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: 2010-12-24T03:10:36.235406277+00:00     TEST  Trading on Nasdaq</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: 2010-12-24T03:10:36.375417237+00:00     TEST  Trading on Nasdaq</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    market_code_note</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:             &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:             &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:             &lt;NA&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## read_reg_sho()</span></span></span>
<span class="r-in"><span><span class="fu">read_reg_sho</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.18 secs at 2.58MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Empty data.table (0 rows and 9 cols): msg_type,stock_locate,tracking_number,timestamp,stock,regsho_action...</span>
<span class="r-in"><span><span class="fu">read_reg_sho</span><span class="op">(</span><span class="va">file</span>, add_descriptions <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.18 secs at 2.55MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Empty data.table (0 rows and 10 cols): msg_type,stock_locate,tracking_number,timestamp,stock,regsho_action...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## read_market_participant_states()</span></span></span>
<span class="r-in"><span><span class="fu">read_market_participant_states</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.45MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Empty data.table (0 rows and 12 cols): msg_type,stock_locate,tracking_number,timestamp,mpid,stock...</span>
<span class="r-in"><span><span class="fu">read_market_participant_states</span><span class="op">(</span><span class="va">file</span>, add_descriptions <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.50MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Empty data.table (0 rows and 14 cols): msg_type,stock_locate,tracking_number,timestamp,mpid,stock...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## read_mwcb()</span></span></span>
<span class="r-in"><span><span class="fu">read_mwcb</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.20 secs at 2.36MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Empty data.table (0 rows and 11 cols): msg_type,stock_locate,tracking_number,timestamp,level1,level2...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## read_ipo()</span></span></span>
<span class="r-in"><span><span class="fu">read_ipo</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.18 secs at 2.58MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Empty data.table (0 rows and 11 cols): msg_type,stock_locate,tracking_number,timestamp,stock,release_time...</span>
<span class="r-in"><span><span class="fu">read_ipo</span><span class="op">(</span><span class="va">file</span>, add_descriptions <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.49MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Empty data.table (0 rows and 12 cols): msg_type,stock_locate,tracking_number,timestamp,stock,release_time...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## read_luld()</span></span></span>
<span class="r-in"><span><span class="fu">read_luld</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.50MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Empty data.table (0 rows and 12 cols): msg_type,stock_locate,tracking_number,timestamp,stock,reference_price...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## read_orders()</span></span></span>
<span class="r-in"><span><span class="fu">read_orders</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'orders' messages 5,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.20 secs at 2.34MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       msg_type stock_locate tracking_number      timestamp order_ref   buy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:        A            2               0 31139052372053         0  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:        A            2               0 31141354532167       100  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:        F            2               0 32813425752711     84836  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:        A            2               0 32826656500150     87020 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:        A            2               0 32827351405783     87040 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                                     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4996:        A            1               0 57586688692484  88478593 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4997:        A            2               0 57586792358162  82185144 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4998:        A            1               0 57590573033724  88557297  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4999:        A            2               0 57595196456803  82354728  TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5000:        A            2               0 57595326231183  82357176 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       shares stock   price mpid       date                            datetime</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:   1000   BOB  5.3167      2010-12-24 2010-12-24T08:38:59.052372053+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:   1000   BOB  5.3167      2010-12-24 2010-12-24T08:39:01.354532167+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:    100   BOB  5.2917 VIRT 2010-12-24 2010-12-24T09:06:53.425752711+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:   1220   BOB  5.4167      2010-12-24 2010-12-24T09:07:06.656500150+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:   2000   BOB  5.4167      2010-12-24 2010-12-24T09:07:07.351405783+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                                         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4996:    100   ALC 23.1000      2010-12-24 2010-12-24T15:59:46.688692484+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4997:    900   BOB  6.0833      2010-12-24 2010-12-24T15:59:46.792358162+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4998:    100   ALC 23.0200      2010-12-24 2010-12-24T15:59:50.573033724+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4999:   1200   BOB  6.0583      2010-12-24 2010-12-24T15:59:55.196456803+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5000:   2000   BOB  6.0750      2010-12-24 2010-12-24T15:59:55.326231183+00:00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       exchange</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4996:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4997:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4998:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4999:     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5000:     TEST</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## read_modifications()</span></span></span>
<span class="r-in"><span><span class="fu">read_modifications</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'modifications' messages 2,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.18 secs at 2.54MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       msg_type stock_locate tracking_number      timestamp order_ref shares</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:        E            2               2 32857937604189     87020   1220</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:        E            2               6 33415045933113    121012    200</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:        E            2               6 33451454329367    130800   2738</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:        E            2               2 33451456680919    130800    100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:        E            2               2 33452976359207    130800     62</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1996:        D            1               0 57583565860801  88418673     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1997:        U            1               0 57586687948197  88478593    100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1998:        U            1               0 57590574066018  88557297    100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1999:        D            2               0 57595204788097  82354728     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000:        D            2               0 57597497623835  58412056     NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       match_number printable   price new_order_ref       date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:        18049        NA      NA          &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:        18225        NA      NA          &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:        18234        NA      NA          &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:        18235        NA      NA          &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:        18237        NA      NA          &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1996:         &lt;NA&gt;        NA      NA          &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1997:         &lt;NA&gt;        NA 23.0933      88575536 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1998:         &lt;NA&gt;        NA 23.0267      88654608 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1999:         &lt;NA&gt;        NA      NA          &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000:         &lt;NA&gt;        NA      NA          &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                  datetime exchange</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1: 2010-12-24T09:07:37.937604189+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2: 2010-12-24T09:16:55.045933113+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3: 2010-12-24T09:17:31.454329367+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4: 2010-12-24T09:17:31.456680919+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5: 2010-12-24T09:17:32.976359207+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1996: 2010-12-24T15:59:43.565860801+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1997: 2010-12-24T15:59:46.687948197+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1998: 2010-12-24T15:59:50.574066018+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1999: 2010-12-24T15:59:55.204788097+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2000: 2010-12-24T15:59:57.497623835+00:00     TEST</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## read_trades()</span></span></span>
<span class="r-in"><span><span class="fu">read_trades</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num 'trades' messages 5,000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.49MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       msg_type stock_locate tracking_number      timestamp order_ref  buy</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:        P            2               2 34210128591201         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:        P            2               2 34210355475120         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:        P            2               2 34210767188977         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:        P            2               2 34211127433476         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:        P            2               2 34212046014088         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                                    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4996:        P            1               2 57594215201805         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4997:        P            1               6 57595050849140         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4998:        P            1               4 57595051019659         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4999:        P            1               2 57595052006081         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5000:        P            3               2 57597526823001         0 TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       shares stock   price match_number cross_type       date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:    200   BOB  5.3333        19447       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:    300   BOB  5.3333        19451       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:    100   BOB  5.3250        19493       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:     47   BOB  5.3333        19515       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:    200   BOB  5.3333        19547       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4996:      1   ALC 23.0800       728935       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4997:     28   ALC 23.0200       730245       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4998:     50   ALC 23.0200       730244       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4999:     65   ALC 23.1000       730243       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5000:    100  CHAR 22.0250       731883       &lt;NA&gt; 2010-12-24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                  datetime exchange</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1: 2010-12-24T09:30:10.128591201+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2: 2010-12-24T09:30:10.355475120+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3: 2010-12-24T09:30:10.767188977+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4: 2010-12-24T09:30:11.127433476+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5: 2010-12-24T09:30:12.046014088+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4996: 2010-12-24T15:59:54.215201805+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4997: 2010-12-24T15:59:55.050849140+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4998: 2010-12-24T15:59:55.051019659+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4999: 2010-12-24T15:59:55.052006081+00:00     TEST</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5000: 2010-12-24T15:59:57.526823001+00:00     TEST</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## read_noii()</span></span></span>
<span class="r-in"><span><span class="fu">read_noii</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.51MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Empty data.table (0 rows and 16 cols): msg_type,stock_locate,tracking_number,timestamp,paired_shares,imbalance_shares...</span>
<span class="r-in"><span><span class="fu">read_noii</span><span class="op">(</span><span class="va">file</span>, add_descriptions <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.47MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Empty data.table (0 rows and 19 cols): msg_type,stock_locate,tracking_number,timestamp,paired_shares,imbalance_shares...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## read_rpii()</span></span></span>
<span class="r-in"><span><span class="fu">read_rpii</span><span class="op">(</span><span class="va">file</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.51MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Empty data.table (0 rows and 9 cols): msg_type,stock_locate,tracking_number,timestamp,stock,interest_flag...</span>
<span class="r-in"><span><span class="fu">read_rpii</span><span class="op">(</span><span class="va">file</span>, add_descriptions <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   num messages 12,012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to data.table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.19 secs at 2.49MB/s</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Empty data.table (0 rows and 10 cols): msg_type,stock_locate,tracking_number,timestamp,stock,interest_flag...</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by David Zimmermann-Kollenda.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

