<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Note that additional information, e.g., columns that were added, will be
dropped in the process and only ITCH-compliant information is saved."><title>Writes a data.frame or a list of data.frames of ITCH messages to file — write_itch • RITCH</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Writes a data.frame or a list of data.frames of ITCH messages to file — write_itch"><meta property="og:description" content="Note that additional information, e.g., columns that were added, will be
dropped in the process and only ITCH-compliant information is saved."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">RITCH</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.24</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/DavZim/RITCH/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Writes a data.frame or a list of data.frames of ITCH messages to file</h1>
      <small class="dont-index">Source: <a href="https://github.com/DavZim/RITCH/blob/HEAD/R/write_itch.R" class="external-link"><code>R/write_itch.R</code></a></small>
      <div class="d-none name"><code>write_itch.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Note that additional information, e.g., columns that were added, will be
dropped in the process and only ITCH-compliant information is saved.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">write_itch</span><span class="op">(</span></span>
<span>  <span class="va">ll</span>,</span>
<span>  <span class="va">file</span>,</span>
<span>  add_meta <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  append <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  compress <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  buffer_size <span class="op">=</span> <span class="fl">1e+08</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  append_warning <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>ll</dt>
<dd><p>a data.frame or a list of data.frames of ITCH messages, in the format
that the <code><a href="read_functions.html">read_functions()</a></code> return</p></dd>


<dt>file</dt>
<dd><p>the filename of the target file. If the folder to the file does
not exist, it will be created recursively</p></dd>


<dt>add_meta</dt>
<dd><p>if date and file information should be added to the filename.
Default value is TRUE. Note that adding meta information changes the filename.</p></dd>


<dt>append</dt>
<dd><p>if the information should be appended to the file. Default value
is FALSE</p></dd>


<dt>compress</dt>
<dd><p>if the file should be gzipped. Default value is FALSE.
Note that if you compress a file, buffer_size matters a lot, with larger
buffers you are more likely to get smaller filesizes in the end.
Alternatively, but slower, is to write the file without compression fully
and then gzip the file using another program.</p></dd>


<dt>buffer_size</dt>
<dd><p>the maximum buffer size. Default value is 1e8 (100MB).
Accepted values are &gt; 52 and &lt; 5e9</p></dd>


<dt>quiet</dt>
<dd><p>if TRUE, the status messages are suppressed, defaults to FALSE</p></dd>


<dt>append_warning</dt>
<dd><p>if append is set, a warning about timestamp ordering is
given. Set <code>append_warning = FALSE</code> to silence the warning. Default
value is TRUE</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>the filename (invisibly)</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Note that the ITCH filename contains the information for the date and exchange.
This can be specified explicitly in the file argument or it is added if not
turned off <code>add_meta = FALSE</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">infile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"ex20101224.TEST_ITCH_50"</span>, package <span class="op">=</span> <span class="st">"RITCH"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sys</span> <span class="op">&lt;-</span> <span class="fu"><a href="read_functions.html">read_system_events</a></span><span class="op">(</span><span class="va">infile</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">outfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_itch</span><span class="op">(</span><span class="va">sys</span>, <span class="va">outfile</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   6 messages (84 bytes) found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to binary .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Writing]    to file</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Outfile]    '/tmp/RtmpIu4LWJ/file17ec7f999ffb_20101224.TEST_ITCH_50'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.00 secs at 100.95KB/s</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create a list of events, stock directory, and orders and write to a file</span></span></span>
<span class="r-in"><span><span class="va">sdir</span> <span class="op">&lt;-</span> <span class="fu"><a href="read_functions.html">read_stock_directory</a></span><span class="op">(</span><span class="va">infile</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">od</span>   <span class="op">&lt;-</span> <span class="fu"><a href="read_functions.html">read_orders</a></span><span class="op">(</span><span class="va">infile</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ll</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">sys</span>, <span class="va">sdir</span>, <span class="va">od</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_itch</span><span class="op">(</span><span class="va">ll</span>, <span class="va">outfile</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   5,009 messages (190,219 bytes) found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to binary .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Writing]    to file</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Outfile]    '/tmp/RtmpIu4LWJ/file17ec7f999ffb_20101224.TEST_ITCH_50'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.02 secs at 11.17MB/s</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by David Zimmermann-Kollenda.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

