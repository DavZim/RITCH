<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Writes a data.frame or a list of data.frames of ITCH messages to file — write_itch • RITCH</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Writes a data.frame or a list of data.frames of ITCH messages to file — write_itch"><meta name="description" content="Note that additional information, e.g., columns that were added, will be
dropped in the process and only ITCH-compliant information is saved."><meta property="og:description" content="Note that additional information, e.g., columns that were added, will be
dropped in the process and only ITCH-compliant information is saved."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">RITCH</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.27</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/DavZim/RITCH/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Writes a data.frame or a list of data.frames of ITCH messages to file</h1>
      <small class="dont-index">Source: <a href="https://github.com/DavZim/RITCH/blob/master/R/write_itch.R" class="external-link"><code>R/write_itch.R</code></a></small>
      <div class="d-none name"><code>write_itch.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Note that additional information, e.g., columns that were added, will be
dropped in the process and only ITCH-compliant information is saved.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">write_itch</span><span class="op">(</span></span>
<span>  <span class="va">ll</span>,</span>
<span>  <span class="va">file</span>,</span>
<span>  add_meta <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  append <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  compress <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  buffer_size <span class="op">=</span> <span class="fl">1e+08</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  append_warning <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-ll">ll<a class="anchor" aria-label="anchor" href="#arg-ll"></a></dt>
<dd><p>a data.frame or a list of data.frames of ITCH messages, in the format
that the <code><a href="read_functions.html">read_functions()</a></code> return</p></dd>


<dt id="arg-file">file<a class="anchor" aria-label="anchor" href="#arg-file"></a></dt>
<dd><p>the filename of the target file. If the folder to the file does
not exist, it will be created recursively</p></dd>


<dt id="arg-add-meta">add_meta<a class="anchor" aria-label="anchor" href="#arg-add-meta"></a></dt>
<dd><p>if date and file information should be added to the filename.
Default value is TRUE. Note that adding meta information changes the filename.</p></dd>


<dt id="arg-append">append<a class="anchor" aria-label="anchor" href="#arg-append"></a></dt>
<dd><p>if the information should be appended to the file. Default value
is FALSE</p></dd>


<dt id="arg-compress">compress<a class="anchor" aria-label="anchor" href="#arg-compress"></a></dt>
<dd><p>if the file should be gzipped. Default value is FALSE.
Note that if you compress a file, buffer_size matters a lot, with larger
buffers you are more likely to get smaller filesizes in the end.
Alternatively, but slower, is to write the file without compression fully
and then gzip the file using another program.</p></dd>


<dt id="arg-buffer-size">buffer_size<a class="anchor" aria-label="anchor" href="#arg-buffer-size"></a></dt>
<dd><p>the maximum buffer size. Default value is 1e8 (100MB).
Accepted values are &gt; 52 and &lt; 5e9</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>if TRUE, the status messages are suppressed, defaults to FALSE</p></dd>


<dt id="arg-append-warning">append_warning<a class="anchor" aria-label="anchor" href="#arg-append-warning"></a></dt>
<dd><p>if append is set, a warning about timestamp ordering is
given. Set <code>append_warning = FALSE</code> to silence the warning. Default
value is TRUE</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>the filename (invisibly)</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Note that the ITCH filename contains the information for the date and exchange.
This can be specified explicitly in the file argument or it is added if not
turned off <code>add_meta = FALSE</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">infile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"ex20101224.TEST_ITCH_50"</span>, package <span class="op">=</span> <span class="st">"RITCH"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sys</span> <span class="op">&lt;-</span> <span class="fu"><a href="read_functions.html">read_system_events</a></span><span class="op">(</span><span class="va">infile</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">outfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_itch</span><span class="op">(</span><span class="va">sys</span>, <span class="va">outfile</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   6 messages (84 bytes) found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to binary .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Writing]    to file</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Outfile]    '/tmp/RtmppiZjZ3/file17725b41e638_20101224.TEST_ITCH_50'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.00 secs at 117.32KB/s</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create a list of events, stock directory, and orders and write to a file</span></span></span>
<span class="r-in"><span><span class="va">sdir</span> <span class="op">&lt;-</span> <span class="fu"><a href="read_functions.html">read_stock_directory</a></span><span class="op">(</span><span class="va">infile</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">od</span>   <span class="op">&lt;-</span> <span class="fu"><a href="read_functions.html">read_orders</a></span><span class="op">(</span><span class="va">infile</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ll</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">sys</span>, <span class="va">sdir</span>, <span class="va">od</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">write_itch</span><span class="op">(</span><span class="va">ll</span>, <span class="va">outfile</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Counting]   5,009 messages (190,219 bytes) found</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Converting] to binary .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Writing]    to file</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Outfile]    '/tmp/RtmppiZjZ3/file17725b41e638_20101224.TEST_ITCH_50'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [Done]       in 0.02 secs at 10.58MB/s</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Zimmermann-Kollenda.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

